const e=["Vote / Votes","Popularity","Original Title","Genre"];const t="#FF6B01",n="white",o="black",a=document.querySelector("#myModal");function l(){const l=JSON.parse(localStorage.getItem("pelicula"));!function(t){const n=t.vote_average,o=Number.parseFloat(t.popularity).toFixed(1),l=t.original_title.toUpperCase(),c=t.vote_count,i=t.genre_ids,s=[n+" / "+c,o,l,i],d=document.createElement("div");d.classList="modal-content",a.appendChild(d);const u=document.createElement("button");u.classList="button_close",u.textContent="X",d.appendChild(u);const m=document.createElement("div");m.classList="sub-content",d.appendChild(m);const p=document.createElement("div");p.classList="sub-content_data",m.appendChild(p);const h=document.createElement("img");h.classList="movie_img",h.alt=l,h.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`,p.appendChild(h);const g=document.createElement("div");g.classList="sub-content_data info",m.appendChild(g);const v=document.createElement("h2");v.classList="movie_title",v.textContent=l,g.insertAdjacentElement("afterbegin",v);for(let n=0;n<e.length;n++){const o=document.createElement("p");o.classList="data_info-subtitle",o.style.padding="4% 0%",o.style.margin="0%",o.textContent=`${e[n]}`;const a=document.createElement("div");a.classList="data_movie";const l=document.createElement("div");l.classList="data_key",a.appendChild(l);const c=document.createElement("div");c.classList="data_value",a.appendChild(c),g.appendChild(a),l.appendChild(o);const i=document.createElement("p");if(i.style.width="fit-content",i.classList="data_info","Genre"===e[n]){const e=document.createElement("div");e.classList.add("data_genre"),c.appendChild(e);const n=document.createElement("p");n.style.width="fit-content",n.classList="data_info",n.textContent=`${r(t.genre_ids)} `,e.appendChild(n)}else i.textContent=`${s[n]}`,c.appendChild(i),o.style.height=`${i.clientHeight}px`}const y=document.createElement("div"),f=document.createElement("h2");f.textContent="ABOUT",y.appendChild(f);const _=document.createElement("p");_.classList="data_sinopsis";const E=t.overview;_.textContent=`${E}`,y.appendChild(_),g.appendChild(y);const C=document.createElement("div");C.classList="add_info";const S=document.createElement("button");S.classList="add-button video",S.textContent="ADD WATCH";const L=document.createElement("button");L.textContent="ADD QUEUE",L.classList="add-button movie",C.appendChild(S),C.appendChild(L),g.appendChild(C)}(l),function(e){console.log("data.___",e.watch);const t=document.querySelector(".button_close"),n=document.querySelector(".modal-content"),o=document.querySelector(".sub-content");var a=document.querySelector(".modalContainer");a.style.display="block",t.addEventListener("click",(()=>{n.remove()})),document.addEventListener("keydown",(e=>{e.preventDefault(),"Escape"===e.code&&(n.remove(),a.style.display="none")})),a.addEventListener("click",(()=>{n.remove(),a.style.display="none"})),o.addEventListener("click",(e=>{e.stopPropagation()}))}(l),function(e){const a=document.querySelector(".video"),l=document.querySelector(".movie");let s,d=localStorage.getItem("watch-movies"),r=localStorage.getItem("queue-movies");a.addEventListener("click",(()=>{c(a,t,n,n),c(l,n,o,o);const r=i(d,s,e,"watch-movies");let u=[];const m=JSON.parse(localStorage.getItem("queue-movies"));if(null==m)console.log("null or undefined");else if(m.forEach((e=>{u.push(e.original_title)})),u.includes(r)){let e=u.indexOf(r);m.splice(e,1),localStorage.setItem("queue-movies",JSON.stringify(m))}})),l.addEventListener("click",(()=>{c(l,t,n,n),c(a,n,o,o);let d=[],u=i(r,s,e,"queue-movies");const m=JSON.parse(localStorage.getItem("watch-movies"));if(null===m)console.log("null");else if(m.forEach((e=>{d.push(e.original_title)})),d.includes(u)){let e=d.indexOf(u);m.splice(e,1),localStorage.setItem("watch-movies",JSON.stringify(m))}}))}(l),function(e){let a=[],l=[];const i=document.querySelector(".video"),s=document.querySelector(".movie"),d=JSON.parse(localStorage.getItem("watch-movies")),r=JSON.parse(localStorage.getItem("queue-movies"));console.log("prueba: ",r),null===r?console.log("hola"):(r.forEach((e=>{l.push(e.original_title)})),l.includes(e)&&(c(s,t,n,n),c(i,n,o,o)));null===d?console.log("hola 2"):(d.forEach((e=>{a.push(e.original_title)})),a.includes(e)&&(c(i,t,n,n),c(s,n,o,o)))}(l.original_title)}function c(e,t,n,o){e.style.backgroundColor=t,e.style.color=n,e.style.borderColor=o,e.disable="true"}function i(e,t,n,o){if(null===e)return(t=[]).push(n),localStorage.setItem(o,JSON.stringify(t)),n.original_title;{const e=JSON.parse(localStorage.getItem(o)),t=[];if(e.forEach((e=>{t.push(e.original_title)})),!t.includes(n.original_title))return e.push(n),localStorage.setItem(o,JSON.stringify(e)),n.original_title;console.log("encontrado",n.watch)}}const s=document.getElementById("peliculas");function d(e){s.innerHTML="";let t=0;e.forEach((e=>{if(t<9){const n=document.createElement("img");n.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,n.alt=e.title,n.classList.add("pelicula__imagen");const o=document.createElement("h2");o.textContent=e.title,o.classList.add("pelicula__titulo");const a=document.createElement("p");a.textContent=e.overview,a.classList.add("pelicula__sinopsis");const c=document.createElement("p");c.textContent=`${r(e.genre_ids)} |`,c.classList.add("pelicula__genero"),c.style.display="inline-block";const i=document.createElement("p");i.textContent=` ${new Date(e.release_date).getFullYear()}`,i.classList.add("pelicula__estreno"),i.style.display="inline-block";const d=document.createElement("div");d.classList.add("pelicula"),d.appendChild(n),d.appendChild(o),d.appendChild(c),d.appendChild(i),s.appendChild(d),n.addEventListener("click",(function(){localStorage.setItem("pelicula",JSON.stringify(e)),l()})),t++}}))}function r(e){const t={28:"Acción",12:"Aventura",16:"Animación",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familiar",14:"Fantasía",36:"Historia",27:"Terror",10402:"Música",9648:"Misterio",10749:"Romance",878:"Ciencia ficción",10770:"Película de TV",53:"Suspense",10752:"Bélica",37:"Western"};return e.map((e=>t[e])).join(", ")}document.querySelector(".movie_img"),document.querySelector(".movie_title"),document.querySelector(".data_key"),document.querySelector(".data_value"),document.querySelector(".data_sinopsis"),document.querySelector(".video"),document.querySelector(".movie"),document.querySelector(".sub-content"),document.querySelector(".button");const u=document.querySelector(".searcher"),m=document.querySelector("#searcherList"),p="2c16d3527aa463666a5b1d2730c96dac";let h=`https://api.themoviedb.org/3/movie/popular?api_key=${p}&language=es-ES&page=1`;fetch(h).then((e=>e.json())).then((e=>{d(e.results)})).catch((e=>console.log(e))),u.addEventListener("input",(()=>{const e=u.value;fetch(`https://api.themoviedb.org/3/search/keyword?api_key=${p}&query=${e}`).then((e=>e.json())).then((e=>{m.innerHTML="";let t=0;e.results.forEach((e=>{if(t<4){const n=document.createElement("li");n.setAttribute("class","movieName"),n.textContent=e.name,m.appendChild(n),t++}}))})).catch((e=>console.log(e)))})),u.addEventListener("input",(()=>{const e=u.value.trim();if(!(e.length>0))return window.location.reload();!async function(e){const t=`https://api.themoviedb.org/3/search/movie?api_key=${p}&query=${e}`,n=await fetch(t);d((await n.json()).results)}(e)}));document.getElementById("peliculas");let g=1,v=50;function y(e){h=`https://api.themoviedb.org/3/movie/popular?api_key=${p}&language=es-ES&page=${e}`,fetch(h).then((e=>e.json())).then((e=>{d(e.results),g=e.page,v=e.total_pages,function(){const e=document.getElementById("paginacion");e.innerHTML="";let t=Math.max(g-2,1),n=Math.min(g+2,v);for(;n-t<4&&t>1;)t--;for(;n-t<4&&n<v;)n++;for(let o=t;o<=n;o++){const t=document.createElement("button");t.textContent=o,t.classList.add("pagina"),o===g&&t.classList.add("pagina-actual"),t.addEventListener("click",(()=>{y(o)})),e.appendChild(t)}}()}))}y(g);
//# sourceMappingURL=index.11b2a842.js.map
