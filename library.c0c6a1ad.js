document.getElementById("peliculas");function e(e){const t={28:"Acción",12:"Aventura",16:"Animación",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familiar",14:"Fantasía",36:"Historia",27:"Terror",10402:"Música",9648:"Misterio",10749:"Romance",878:"Ciencia ficción",10770:"Película de TV",53:"Suspense",10752:"Bélica",37:"Western"};return e.map((e=>t[e])).join(", ")}const t=["Vote / Votes","Popularity","Original Title","Genre"];const n="#FF6B01",o="white",l="black",c=document.querySelector("#myModal");function i(){const i=JSON.parse(localStorage.getItem("pelicula"));!function(n){const o=n.vote_average,l=Number.parseFloat(n.popularity).toFixed(1),i=n.original_title.toUpperCase(),a=n.vote_count,s=n.genre_ids,d=[o+" / "+a,l,i,s],r=document.createElement("div");r.classList="modal-content",c.appendChild(r);const u=document.createElement("button");u.classList="button_close",u.textContent="X",r.appendChild(u);const m=document.createElement("div");m.classList="sub-content",r.appendChild(m);const p=document.createElement("div");p.classList="sub-content_data",m.appendChild(p);const g=document.createElement("img");g.classList="movie_img",g.alt=i,g.src=`https://image.tmdb.org/t/p/w500${n.poster_path}`,p.appendChild(g);const h=document.createElement("div");h.classList="sub-content_data info",m.appendChild(h);const v=document.createElement("h2");v.classList="movie_title",v.textContent=i,h.insertAdjacentElement("afterbegin",v);for(let o=0;o<t.length;o++){const l=document.createElement("p");l.classList="data_info-subtitle",l.style.padding="4% 0%",l.style.margin="0%",l.textContent=`${t[o]}`;const c=document.createElement("div");c.classList="data_movie";const i=document.createElement("div");i.classList="data_key",c.appendChild(i);const a=document.createElement("div");a.classList="data_value",c.appendChild(a),h.appendChild(c),i.appendChild(l);const s=document.createElement("p");if(s.style.width="fit-content",s.classList="data_info","Genre"===t[o]){const t=document.createElement("div");t.classList.add("data_genre"),a.appendChild(t);const o=document.createElement("p");o.style.width="fit-content",o.classList="data_info",o.textContent=`${e(n.genre_ids)} `,t.appendChild(o)}else s.textContent=`${d[o]}`,a.appendChild(s),l.style.height=`${s.clientHeight}px`}const E=document.createElement("div"),C=document.createElement("h2");C.textContent="ABOUT",E.appendChild(C);const f=document.createElement("p");f.classList="data_sinopsis";const y=n.overview;f.textContent=`${y}`,E.appendChild(f),h.appendChild(E);const _=document.createElement("div");_.classList="add_info";const L=document.createElement("button");L.classList="add-button video",L.textContent="ADD WATCH";const S=document.createElement("button");S.textContent="ADD QUEUE",S.classList="add-button movie",_.appendChild(L),_.appendChild(S),h.appendChild(_)}(i),function(e){console.log("data.___",e.watch);const t=document.querySelector(".button_close"),n=document.querySelector(".modal-content"),o=document.querySelector(".sub-content");var l=document.querySelector(".modalContainer");l.style.display="block",t.addEventListener("click",(()=>{n.remove()})),document.addEventListener("keydown",(e=>{e.preventDefault(),"Escape"===e.code&&(n.remove(),l.style.display="none")})),l.addEventListener("click",(()=>{n.remove(),l.style.display="none"})),o.addEventListener("click",(e=>{e.stopPropagation()}))}(i),function(e){const t=document.querySelector(".video"),c=document.querySelector(".movie");let i,d=localStorage.getItem("watch-movies"),r=localStorage.getItem("queue-movies");t.addEventListener("click",(()=>{a(t,n,o,o),a(c,o,l,l);const r=s(d,i,e,"watch-movies");let u=[];const m=JSON.parse(localStorage.getItem("queue-movies"));if(null==m)console.log("null or undefined");else if(m.forEach((e=>{u.push(e.original_title)})),u.includes(r)){let e=u.indexOf(r);m.splice(e,1),localStorage.setItem("queue-movies",JSON.stringify(m))}})),c.addEventListener("click",(()=>{a(c,n,o,o),a(t,o,l,l);let d=[],u=s(r,i,e,"queue-movies");const m=JSON.parse(localStorage.getItem("watch-movies"));if(null===m)console.log("null");else if(m.forEach((e=>{d.push(e.original_title)})),d.includes(u)){let e=d.indexOf(u);m.splice(e,1),localStorage.setItem("watch-movies",JSON.stringify(m))}}))}(i),function(e){let t=[],c=[];const i=document.querySelector(".video"),s=document.querySelector(".movie"),d=JSON.parse(localStorage.getItem("watch-movies")),r=JSON.parse(localStorage.getItem("queue-movies"));console.log("prueba: ",r),null===r?console.log("hola"):(r.forEach((e=>{c.push(e.original_title)})),c.includes(e)&&(a(s,n,o,o),a(i,o,l,l)));null===d?console.log("hola 2"):(d.forEach((e=>{t.push(e.original_title)})),t.includes(e)&&(a(i,n,o,o),a(s,o,l,l)))}(i.original_title)}function a(e,t,n,o){e.style.backgroundColor=t,e.style.color=n,e.style.borderColor=o,e.disable="true"}function s(e,t,n,o){if(null===e)return(t=[]).push(n),localStorage.setItem(o,JSON.stringify(t)),n.original_title;{const e=JSON.parse(localStorage.getItem(o)),t=[];if(e.forEach((e=>{t.push(e.original_title)})),!t.includes(n.original_title))return e.push(n),localStorage.setItem(o,JSON.stringify(e)),n.original_title;console.log("encontrado",n.watch)}}const d=document.getElementById("peliculas");let r=0,u=document.querySelector("button"),m=document.getElementById("button_Queue"),p=document.getElementById("resett");console.log("buttoonWatch",u);let g=JSON.parse(localStorage.getItem("watch-movies")),h=JSON.parse(localStorage.getItem("queue-movies"));console.log("localPelisWatch",g),null==g&&(g=[]),null==h&&(h=[]);const v=document.getElementById("peliculas");function E(e){d.innerHTML="",e.forEach((e=>{const t=document.createElement("img");t.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,t.alt=e.title,t.classList.add("pelicula__imagen");const n=document.createElement("h2");n.textContent=e.title,n.classList.add("pelicula__titulo");const o=document.createElement("p");o.textContent=e.overview,o.classList.add("pelicula__sinopsis");const l=document.createElement("p");l.textContent=`${function(e){const t={28:"Acción",12:"Aventura",16:"Animación",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familiar",14:"Fantasía",36:"Historia",27:"Terror",10402:"Música",9648:"Misterio",10749:"Romance",878:"Ciencia ficción",10770:"Película de TV",53:"Suspense",10752:"Bélica",37:"Western"};return e.map((e=>t[e])).join(", ")}(e.genre_ids)} |`,l.classList.add("pelicula__genero"),l.style.display="inline-block";const c=document.createElement("p");c.textContent=` ${new Date(e.release_date).getFullYear()}`,c.classList.add("pelicula__estreno"),c.style.display="inline-block";const a=document.createElement("div");a.classList.add("pelicula"),a.appendChild(t),a.appendChild(n),a.appendChild(l),a.appendChild(c),d.appendChild(a),t.addEventListener("click",(function(){localStorage.setItem("pelicula",JSON.stringify(e)),i()}))}))}p.addEventListener("click",(e=>{if(e.preventDefault(),console.log("clearlist"),1==r){localStorage.removeItem("watch-movies"),g=[];const e=document.createElement("div");v.classList="no-content",v.appendChild(e),E(g),0==g.length&&(d.innerHTML="Empty List")}2==r&&(localStorage.removeItem("queue-movies"),h=[],E(h),0==h.length&&(d.innerHTML="Empty List"))})),u.addEventListener("click",(e=>{e.preventDefault(),console.log("click"),r=1,0==g.length?d.innerHTML="Empty List":E(g)})),m.addEventListener("click",(e=>{e.preventDefault(),console.log("click"),r=2,0==h.length?d.innerHTML="Empty List":E(h)}));
//# sourceMappingURL=library.c0c6a1ad.js.map
