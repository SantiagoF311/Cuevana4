!function(){function e(e,t,n,a,o,c,i){try{var r=e[c](i),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,o)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(o,c){var i=t.apply(n,a);function r(t){e(i,o,c,r,l,"next",t)}function l(t){e(i,o,c,r,l,"throw",t)}r(void 0)}))}}function n(e,t){var n,a,o,c,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,r[0]&&(i=0)),i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}Object.create;Object.create;var a=["Vote / Votes","Popularity","Original Title","Genre"],o="#FF6B01",c="white",i="black",r=document.querySelector("#myModal");function l(){var e=JSON.parse(localStorage.getItem("pelicula"));!function(e){var t=e.vote_average,n=Number.parseFloat(e.popularity).toFixed(1),o=e.original_title.toUpperCase(),c=e.vote_count,i=e.genre_ids,l=[t+" / "+c,n,o,i],s=document.createElement("div");s.classList="modal-content",r.appendChild(s);var u=document.createElement("button");u.classList="button_close",u.textContent="X",s.appendChild(u);var d=document.createElement("div");d.classList="sub-content",s.appendChild(d);var p=document.createElement("div");p.classList="sub-content_data",d.appendChild(p);var v=document.createElement("img");v.classList="movie_img",v.alt=o,v.src="https://image.tmdb.org/t/p/w500".concat(e.poster_path),p.appendChild(v);var h=document.createElement("div");h.classList="sub-content_data info",d.appendChild(h);var f=document.createElement("h2");f.classList="movie_title",f.textContent=o,h.insertAdjacentElement("afterbegin",f);for(var g=0;g<a.length;g++){var y=document.createElement("p");y.classList="data_info-subtitle",y.style.padding="4% 0%",y.style.margin="0%",y.textContent="".concat(a[g]);var b=document.createElement("div");b.classList="data_movie";var _=document.createElement("div");_.classList="data_key",b.appendChild(_);var E=document.createElement("div");E.classList="data_value",b.appendChild(E),h.appendChild(b),_.appendChild(y);var S=document.createElement("p");if(S.style.width="fit-content",S.classList="data_info","Genre"===a[g]){var C=document.createElement("div");C.classList.add("data_genre"),E.appendChild(C);var L=document.createElement("p");L.style.width="fit-content",L.classList="data_info",L.textContent="".concat(m(e.genre_ids)," "),C.appendChild(L)}else S.textContent="".concat(l[g]),E.appendChild(S),y.style.height="".concat(S.clientHeight,"px")}var w=document.createElement("div"),q=document.createElement("h2");q.textContent="ABOUT",w.appendChild(q);var k=document.createElement("p");k.classList="data_sinopsis";var x=e.overview;k.textContent="".concat(x),w.appendChild(k),h.appendChild(w);var O=document.createElement("div");O.classList="add_info";var I=document.createElement("button");I.classList="add-button video",I.textContent="ADD WATCH";var N=document.createElement("button");N.textContent="ADD QUEUE",N.classList="add-button movie",O.appendChild(I),O.appendChild(N),h.appendChild(O)}(e),function(e){console.log("data.___",e.watch);var t=document.querySelector(".button_close"),n=document.querySelector(".modal-content"),a=document.querySelector(".sub-content"),o=document.querySelector(".modalContainer");o.style.display="block",t.addEventListener("click",(function(){n.remove()})),document.addEventListener("keydown",(function(e){e.preventDefault(),"Escape"===e.code&&(n.remove(),o.style.display="none")})),o.addEventListener("click",(function(){n.remove(),o.style.display="none"})),a.addEventListener("click",(function(e){e.stopPropagation()}))}(e),function(e){var t,n=document.querySelector(".video"),a=document.querySelector(".movie"),r=localStorage.getItem("watch-movies"),l=localStorage.getItem("queue-movies");n.addEventListener("click",(function(){s(n,o,c,c),s(a,c,i,i);var l=u(r,t,e,"watch-movies"),d=[],p=JSON.parse(localStorage.getItem("queue-movies"));if(null==p)console.log("null or undefined");else if(p.forEach((function(e){d.push(e.original_title)})),d.includes(l)){var m=d.indexOf(l);p.splice(m,1),localStorage.setItem("queue-movies",JSON.stringify(p))}})),a.addEventListener("click",(function(){s(a,o,c,c),s(n,c,i,i);var r=[],d=u(l,t,e,"queue-movies"),p=JSON.parse(localStorage.getItem("watch-movies"));if(null===p)console.log("null");else if(p.forEach((function(e){r.push(e.original_title)})),r.includes(d)){var m=r.indexOf(d);p.splice(m,1),localStorage.setItem("watch-movies",JSON.stringify(p))}}))}(e),function(e){var t=[],n=[],a=document.querySelector(".video"),r=document.querySelector(".movie"),l=JSON.parse(localStorage.getItem("watch-movies")),u=JSON.parse(localStorage.getItem("queue-movies"));console.log("prueba: ",u),null===u?console.log("hola"):(u.forEach((function(e){n.push(e.original_title)})),n.includes(e)&&(s(r,o,c,c),s(a,c,i,i)));null===l?console.log("hola 2"):(l.forEach((function(e){t.push(e.original_title)})),t.includes(e)&&(s(a,o,c,c),s(r,c,i,i)))}(e.original_title)}function s(e,t,n,a){e.style.backgroundColor=t,e.style.color=n,e.style.borderColor=a,e.disable="true"}function u(e,t,n,a){if(null===e)return(t=[]).push(n),localStorage.setItem(a,JSON.stringify(t)),n.original_title;var o=JSON.parse(localStorage.getItem(a)),c=[];if(o.forEach((function(e){c.push(e.original_title)})),!c.includes(n.original_title))return o.push(n),localStorage.setItem(a,JSON.stringify(o)),n.original_title;console.log("encontrado",n.watch)}"https://api.themoviedb.org/3/movie/popular?api_key=".concat("2c16d3527aa463666a5b1d2730c96dac","&language=es-ES&page=1");var d=document.getElementById("peliculas");function p(e){d.innerHTML="";var t=0;e.forEach((function(e){if(t<9){var n=document.createElement("img");n.src="https://image.tmdb.org/t/p/w500".concat(e.poster_path),n.alt=e.title,n.classList.add("pelicula__imagen");var a=document.createElement("h2");a.textContent=e.title,a.classList.add("pelicula__titulo");var o=document.createElement("p");o.textContent=e.overview,o.classList.add("pelicula__sinopsis");var c=document.createElement("p");c.textContent="".concat(m(e.genre_ids)," |"),c.classList.add("pelicula__genero"),c.style.display="inline-block";var i=document.createElement("p");i.textContent=" ".concat(new Date(e.release_date).getFullYear()),i.classList.add("pelicula__estreno"),i.style.display="inline-block";var r=document.createElement("div");r.classList.add("pelicula"),r.appendChild(n),r.appendChild(a),r.appendChild(c),r.appendChild(i),d.appendChild(r),n.addEventListener("click",(function(){localStorage.setItem("pelicula",JSON.stringify(e)),l()})),t++}}))}function m(e){var t={28:"Acción",12:"Aventura",16:"Animación",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familiar",14:"Fantasía",36:"Historia",27:"Terror",10402:"Música",9648:"Misterio",10749:"Romance",878:"Ciencia ficción",10770:"Película de TV",53:"Suspense",10752:"Bélica",37:"Western"};return e.map((function(e){return t[e]})).join(", ")}"https://api.themoviedb.org/3/movie/76341?api_key=".concat("20979babc91cbc65cdd918b0c714bda3"),document.querySelector(".movie_img"),document.querySelector(".movie_title"),document.querySelector(".data_key"),document.querySelector(".data_value"),document.querySelector(".data_sinopsis"),document.querySelector(".video"),document.querySelector(".movie"),document.querySelector(".sub-content"),document.querySelector(".button");var v=document.querySelector(".searcher"),h=document.querySelector("#searcherList"),f="2c16d3527aa463666a5b1d2730c96dac";var g="https://api.themoviedb.org/3/movie/popular?api_key=".concat(f,"&language=es-ES&page=1");function y(){return(y=t((function(e){var t;return n(this,(function(n){switch(n.label){case 0:return"https://api.themoviedb.org/3/search/movie",t="".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(f,"&query=").concat(e),[4,fetch(t)];case 1:return[4,n.sent().json()];case 2:return p(n.sent().results),[2]}}))}))).apply(this,arguments)}fetch(g).then((function(e){return e.json()})).then((function(e){p(e.results)})).catch((function(e){return console.log(e)})),v.addEventListener("input",(function(){var e=v.value,t="https://api.themoviedb.org/3/search/keyword?api_key=".concat(f,"&query=").concat(e);fetch(t).then((function(e){return e.json()})).then((function(e){h.innerHTML="";var t=0;e.results.forEach((function(e){if(t<4){var n=document.createElement("li");n.setAttribute("class","movieName"),n.textContent=e.name,h.appendChild(n),t++}}))})).catch((function(e){return console.log(e)}))})),v.addEventListener("input",(function(){var e=v.value.trim();if(!(e.length>0))return window.location.reload();!function(e){y.apply(this,arguments)}(e)}));document.getElementById("peliculas");var b=1,_=50;function E(e){g="https://api.themoviedb.org/3/movie/popular?api_key=".concat(f,"&language=es-ES&page=").concat(e),fetch(g).then((function(e){return e.json()})).then((function(e){p(e.results),b=e.page,_=e.total_pages,function(){var e=function(e){var n=document.createElement("button");n.textContent=e,n.classList.add("pagina"),e===b&&n.classList.add("pagina-actual"),n.addEventListener("click",(function(){E(e)})),t.appendChild(n)},t=document.getElementById("paginacion");t.innerHTML="";for(var n=Math.max(b-2,1),a=Math.min(b+2,_);a-n<4&&n>1;)n--;for(;a-n<4&&a<_;)a++;for(var o=n;o<=a;o++)e(o)}()}))}E(b)}();
//# sourceMappingURL=index.6e05b79c.js.map
