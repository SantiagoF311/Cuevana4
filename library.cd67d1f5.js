!function(){"https://api.themoviedb.org/3/movie/popular?api_key=".concat("2c16d3527aa463666a5b1d2730c96dac","&language=es-ES&page=1"),document.getElementById("peliculas");function e(e){var t={28:"Acción",12:"Aventura",16:"Animación",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familiar",14:"Fantasía",36:"Historia",27:"Terror",10402:"Música",9648:"Misterio",10749:"Romance",878:"Ciencia ficción",10770:"Película de TV",53:"Suspense",10752:"Bélica",37:"Western"};return e.map((function(e){return t[e]})).join(", ")}var t=["Vote / Votes","Popularity","Original Title","Genre"],n="#FF6B01",a="white",o="black",l=document.querySelector("#myModal");function i(){var i=JSON.parse(localStorage.getItem("pelicula"));!function(n){var a=n.vote_average,o=Number.parseFloat(n.popularity).toFixed(1),i=n.original_title.toUpperCase(),c=n.vote_count,r=n.genre_ids,s=[a+" / "+c,o,i,r],d=document.createElement("div");d.classList="modal-content",l.appendChild(d);var u=document.createElement("button");u.classList="button_close",u.textContent="X",d.appendChild(u);var m=document.createElement("div");m.classList="sub-content",d.appendChild(m);var p=document.createElement("div");p.classList="sub-content_data",m.appendChild(p);var v=document.createElement("img");v.classList="movie_img",v.alt=i,v.src="https://image.tmdb.org/t/p/w500".concat(n.poster_path),p.appendChild(v);var g=document.createElement("div");g.classList="sub-content_data info",m.appendChild(g);var h=document.createElement("h2");h.classList="movie_title",h.textContent=i,g.insertAdjacentElement("afterbegin",h);for(var f=0;f<t.length;f++){var E=document.createElement("p");E.classList="data_info-subtitle",E.style.padding="4% 0%",E.style.margin="0%",E.textContent="".concat(t[f]);var C=document.createElement("div");C.classList="data_movie";var y=document.createElement("div");y.classList="data_key",C.appendChild(y);var _=document.createElement("div");_.classList="data_value",C.appendChild(_),g.appendChild(C),y.appendChild(E);var L=document.createElement("p");if(L.style.width="fit-content",L.classList="data_info","Genre"===t[f]){var S=document.createElement("div");S.classList.add("data_genre"),_.appendChild(S);var b=document.createElement("p");b.style.width="fit-content",b.classList="data_info",b.textContent="".concat(e(n.genre_ids)," "),S.appendChild(b)}else L.textContent="".concat(s[f]),_.appendChild(L),E.style.height="".concat(L.clientHeight,"px")}var I=document.createElement("div"),k=document.createElement("h2");k.textContent="ABOUT",I.appendChild(k);var w=document.createElement("p");w.classList="data_sinopsis";var q=n.overview;w.textContent="".concat(q),I.appendChild(w),g.appendChild(I);var x=document.createElement("div");x.classList="add_info";var O=document.createElement("button");O.classList="add-button video",O.textContent="ADD WATCH";var N=document.createElement("button");N.textContent="ADD QUEUE",N.classList="add-button movie",x.appendChild(O),x.appendChild(N),g.appendChild(x)}(i),function(e){console.log("data.___",e.watch);var t=document.querySelector(".button_close"),n=document.querySelector(".modal-content"),a=document.querySelector(".sub-content"),o=document.querySelector(".modalContainer");o.style.display="block",t.addEventListener("click",(function(){n.remove()})),document.addEventListener("keydown",(function(e){e.preventDefault(),"Escape"===e.code&&(n.remove(),o.style.display="none")})),o.addEventListener("click",(function(){n.remove(),o.style.display="none"})),a.addEventListener("click",(function(e){e.stopPropagation()}))}(i),function(e){var t,l=document.querySelector(".video"),i=document.querySelector(".movie"),s=localStorage.getItem("watch-movies"),d=localStorage.getItem("queue-movies");l.addEventListener("click",(function(){c(l,n,a,a),c(i,a,o,o);var d=r(s,t,e,"watch-movies"),u=[],m=JSON.parse(localStorage.getItem("queue-movies"));if(null==m)console.log("null or undefined");else if(m.forEach((function(e){u.push(e.original_title)})),u.includes(d)){var p=u.indexOf(d);m.splice(p,1),localStorage.setItem("queue-movies",JSON.stringify(m))}})),i.addEventListener("click",(function(){c(i,n,a,a),c(l,a,o,o);var s=[],u=r(d,t,e,"queue-movies"),m=JSON.parse(localStorage.getItem("watch-movies"));if(null===m)console.log("null");else if(m.forEach((function(e){s.push(e.original_title)})),s.includes(u)){var p=s.indexOf(u);m.splice(p,1),localStorage.setItem("watch-movies",JSON.stringify(m))}}))}(i),function(e){var t=[],l=[],i=document.querySelector(".video"),r=document.querySelector(".movie"),s=JSON.parse(localStorage.getItem("watch-movies")),d=JSON.parse(localStorage.getItem("queue-movies"));console.log("prueba: ",d),null===d?console.log("hola"):(d.forEach((function(e){l.push(e.original_title)})),l.includes(e)&&(c(r,n,a,a),c(i,a,o,o)));null===s?console.log("hola 2"):(s.forEach((function(e){t.push(e.original_title)})),t.includes(e)&&(c(i,n,a,a),c(r,a,o,o)))}(i.original_title)}function c(e,t,n,a){e.style.backgroundColor=t,e.style.color=n,e.style.borderColor=a,e.disable="true"}function r(e,t,n,a){if(null===e)return(t=[]).push(n),localStorage.setItem(a,JSON.stringify(t)),n.original_title;var o=JSON.parse(localStorage.getItem(a)),l=[];if(o.forEach((function(e){l.push(e.original_title)})),!l.includes(n.original_title))return o.push(n),localStorage.setItem(a,JSON.stringify(o)),n.original_title;console.log("encontrado",n.watch)}var s=document.getElementById("peliculas"),d=0,u=document.querySelector("button"),m=document.getElementById("button_Queue"),p=document.getElementById("resett");console.log("buttoonWatch",u);var v=JSON.parse(localStorage.getItem("watch-movies")),g=JSON.parse(localStorage.getItem("queue-movies"));console.log("localPelisWatch",v),null==v&&(v=[]),null==g&&(g=[]);var h=document.getElementById("peliculas");function f(e){s.innerHTML="",e.forEach((function(e){var t=document.createElement("img");t.src="https://image.tmdb.org/t/p/w500".concat(e.poster_path),t.alt=e.title,t.classList.add("pelicula__imagen");var n=document.createElement("h2");n.textContent=e.title,n.classList.add("pelicula__titulo");var a=document.createElement("p");a.textContent=e.overview,a.classList.add("pelicula__sinopsis");var o,l,c=document.createElement("p");c.textContent="".concat((o=e.genre_ids,l={28:"Acción",12:"Aventura",16:"Animación",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familiar",14:"Fantasía",36:"Historia",27:"Terror",10402:"Música",9648:"Misterio",10749:"Romance",878:"Ciencia ficción",10770:"Película de TV",53:"Suspense",10752:"Bélica",37:"Western"},o.map((function(e){return l[e]})).join(", "))," |"),c.classList.add("pelicula__genero"),c.style.display="inline-block";var r=document.createElement("p");r.textContent=" ".concat(new Date(e.release_date).getFullYear()),r.classList.add("pelicula__estreno"),r.style.display="inline-block";var d=document.createElement("div");d.classList.add("pelicula"),d.appendChild(t),d.appendChild(n),d.appendChild(c),d.appendChild(r),s.appendChild(d),t.addEventListener("click",(function(){localStorage.setItem("pelicula",JSON.stringify(e)),i()}))}))}p.addEventListener("click",(function(e){if(e.preventDefault(),console.log("clearlist"),1==d){localStorage.removeItem("watch-movies"),v=[];var t=document.createElement("div");h.classList="no-content",h.appendChild(t),f(v),0==v.length&&(s.innerHTML="Empty List")}2==d&&(localStorage.removeItem("queue-movies"),f(g=[]),0==g.length&&(s.innerHTML="Empty List"))})),u.addEventListener("click",(function(e){e.preventDefault(),console.log("click"),d=1,0==v.length?s.innerHTML="Empty List":f(v)})),m.addEventListener("click",(function(e){e.preventDefault(),console.log("click"),d=2,0==g.length?s.innerHTML="Empty List":f(g)}))}();
//# sourceMappingURL=library.cd67d1f5.js.map
